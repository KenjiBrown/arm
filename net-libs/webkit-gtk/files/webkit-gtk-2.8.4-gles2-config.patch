--- ./Source/cmake/FindCairoGL.cmake.orig	2015-07-16 21:50:38.119831270 -0700
+++ ./Source/cmake/FindCairoGL.cmake	2015-07-16 21:51:33.119831257 -0700
@@ -29,7 +29,7 @@
 # ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 find_package(PkgConfig)
-pkg_check_modules(CAIRO_GL cairo-gl)
+pkg_check_modules(CAIRO_GL cairo-glesv2 cairo-egl cairo-glx)
 
 # At the moment CairoGL does not add any extra cflags and libraries, so we can
 # safely ignore CAIRO_GL_LIBRARIES and CAIRO_GL_INCLUDE_DIRS for the moment.
--- ./Source/cmake/OptionsGTK.cmake.orig	2015-07-16 23:15:31.249830056 -0700
+++ ./Source/cmake/OptionsGTK.cmake	2015-07-16 23:29:35.919829854 -0700
@@ -48,6 +48,7 @@
 find_package(ATSPI 2.5.3)
 find_package(GObjectIntrospection)
 find_package(EGL)
+find_package(OpenGLES2)
 find_package(GeoClue2 2.1.5)
 find_package(GnuTLS 3.0.0)
 find_package(LibNotify)
@@ -56,8 +57,7 @@
     find_package(GeoClue)
 endif ()
 
-if (ENABLE_GLES2)
-    find_package(OpenGLES2 REQUIRED)
+if (OPENGLES2_FOUND)
     if (OPENGLES2_FOUND AND NOT(EGL_FOUND))
         message(FATAL_ERROR "EGL is needed for OpenGL ES 2.0.")
     endif ()
@@ -94,9 +94,14 @@
         WEBKIT_OPTION_DEFAULT_PORT_VALUE(USE_REDIRECTED_XCOMPOSITE_WINDOW OFF)
     endif ()
 
-    if (OPENGL_FOUND)
-        if (GLX_FOUND)
-            list(APPEND CAIRO_GL_COMPONENTS cairo-glx)
+    if (OPENGL_FOUND OR OPENGLES2_FOUND)
+        if (OPENGLES2_FOUND)
+            list(APPEND CAIRO_GL_COMPONENTS cairo-glesv2)
+        endif ()
+        if (OPENGL_FOUND)
+            if (GLX_FOUND)
+                list(APPEND CAIRO_GL_COMPONENTS cairo-glx)
+            endif ()
         endif ()
         if (EGL_FOUND)
             list(APPEND CAIRO_GL_COMPONENTS cairo-egl)
@@ -342,6 +347,8 @@
 
 if (EGL_FOUND)
     set(WTF_USE_EGL 1)
+else ()
+    set(WTF_USE_EGL 0)
 endif ()
 
 if (ENABLE_SPELLCHECK)
@@ -364,19 +371,19 @@
     if (OPENGLES2_FOUND)
         set(WTF_USE_OPENGL_ES_2 1)
         add_definitions(-DWTF_USE_OPENGL_ES_2=1)
-    else ()
+        add_definitions(-DWTF_USE_GLX=0)
+    elseif (OPENGL_FOUND)
         set(WTF_USE_OPENGL 1)
         add_definitions(-DWTF_USE_OPENGL=1)
+        if (GLX_FOUND)
+            add_definitions(-DWTF_USE_GLX=1)
+        endif ()
     endif ()
 
     if (EGL_FOUND)
         add_definitions(-DWTF_USE_EGL=1)
     endif ()
 
-    if (GLX_FOUND)
-        add_definitions(-DWTF_USE_GLX=1)
-    endif ()
-
     if (ENABLE_THREADED_COMPOSITOR)
         add_definitions(-DWTF_USE_TILED_BACKING_STORE=1)
         add_definitions(-DWTF_USE_COORDINATED_GRAPHICS=1)
--- ./Source/cmake/OptionsGTK.cmake.orig	2015-07-16 23:15:31.249830056 -0700
+++ ./Source/cmake/OptionsGTK.cmake	2015-07-17 00:16:15.709829187 -0700
@@ -48,6 +48,7 @@
 find_package(ATSPI 2.5.3)
 find_package(GObjectIntrospection)
 find_package(EGL)
+find_package(OpenGLES2)
 find_package(GeoClue2 2.1.5)
 find_package(GnuTLS 3.0.0)
 find_package(LibNotify)
@@ -56,8 +57,7 @@
     find_package(GeoClue)
 endif ()
 
-if (ENABLE_GLES2)
-    find_package(OpenGLES2 REQUIRED)
+if (OPENGLES2_FOUND)
     if (OPENGLES2_FOUND AND NOT(EGL_FOUND))
         message(FATAL_ERROR "EGL is needed for OpenGL ES 2.0.")
     endif ()
@@ -94,9 +94,14 @@
         WEBKIT_OPTION_DEFAULT_PORT_VALUE(USE_REDIRECTED_XCOMPOSITE_WINDOW OFF)
     endif ()
 
-    if (OPENGL_FOUND)
-        if (GLX_FOUND)
-            list(APPEND CAIRO_GL_COMPONENTS cairo-glx)
+    if (OPENGL_FOUND OR OPENGLES2_FOUND)
+        if (OPENGLES2_FOUND)
+            list(APPEND CAIRO_GL_COMPONENTS cairo-glesv2)
+        endif ()
+        if (OPENGL_FOUND)
+            if (GLX_FOUND)
+                list(APPEND CAIRO_GL_COMPONENTS cairo-glx)
+            endif ()
         endif ()
         if (EGL_FOUND)
             list(APPEND CAIRO_GL_COMPONENTS cairo-egl)
@@ -342,6 +347,8 @@
 
 if (EGL_FOUND)
     set(WTF_USE_EGL 1)
+else ()
+    set(WTF_USE_EGL 0)
 endif ()
 
 if (ENABLE_SPELLCHECK)
@@ -364,19 +371,19 @@
     if (OPENGLES2_FOUND)
         set(WTF_USE_OPENGL_ES_2 1)
         add_definitions(-DWTF_USE_OPENGL_ES_2=1)
-    else ()
+        add_definitions(-DWTF_USE_GLX=0)
+    elseif (OPENGL_FOUND)
         set(WTF_USE_OPENGL 1)
         add_definitions(-DWTF_USE_OPENGL=1)
+        if (GLX_FOUND)
+            add_definitions(-DWTF_USE_GLX=1)
+        endif ()
     endif ()
 
     if (EGL_FOUND)
         add_definitions(-DWTF_USE_EGL=1)
     endif ()
 
-    if (GLX_FOUND)
-        add_definitions(-DWTF_USE_GLX=1)
-    endif ()
-
     if (ENABLE_THREADED_COMPOSITOR)
         add_definitions(-DWTF_USE_TILED_BACKING_STORE=1)
         add_definitions(-DWTF_USE_COORDINATED_GRAPHICS=1)
@@ -384,6 +391,12 @@
     endif ()
 endif ()
 
+message(STATUS "WTF_USE_OPENGL_ES_2: (" ${WTF_USE_OPENGL_ES_2} ")")
+message(STATUS "WTF_USE_EGL: (" ${WTF_USE_EGL} ")")
+message(STATUS "WTF_USE_OPENGL: (" ${WTF_USE_OPENGL} ")")
+message(STATUS "WTF_USE_GLX: (" ${WTF_USE_GLX} ")")
+message(STATUS "CAIRO_GL_FOUND: (" ${CAIRO_GL_FOUND} ")")
+
 if (ENABLE_GAMEPAD_DEPRECATED)
     find_package(GUdev)
 endif ()
--- CMakeLists.txt.orig	2015-07-17 00:23:14.399829087 -0700
+++ CMakeLists.txt	2015-07-17 00:24:47.899829065 -0700
@@ -105,6 +105,7 @@
 else ()
     message(FATAL_ERROR "Unknown CPU '${LOWERCASE_CMAKE_SYSTEM_PROCESSOR}'")
 endif ()
+message(STATUS "Detected CPU: '${LOWERCASE_CMAKE_SYSTEM_PROCESSOR}'")
 
 # -----------------------------------------------------------------------------
 # Determine the operating system
